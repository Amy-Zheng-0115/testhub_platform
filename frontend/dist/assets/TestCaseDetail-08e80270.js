import{_ as h,Q as D,u as w,q as B,x as $,r as d,o as c,c as u,b as p,d as a,w as t,B as N,C as V,e as Y,f as n,t as r,G as I,F as R,y as S,J as j,R as z}from"./index-b9247cb2.js";const E={class:"page-container"},F={class:"page-header"},H={key:0,class:"card-container"},P={key:0,class:"version-tags"},q={key:1,class:"no-version"},A={class:"steps-content"},G={__name:"TestCaseDetail",setup(J){const f=D(),m=w(),e=B(null),y=async()=>{try{const s=await V.get(`/testcases/${f.params.id}/`);e.value=s.data}catch{Y.error("获取用例详情失败")}},g=()=>{m.push(`/ai-generation/testcases/${f.params.id}/edit`)},b=s=>({low:"低",medium:"中",high:"高",critical:"紧急"})[s]||s,x=s=>({draft:"info",active:"success",deprecated:"warning"})[s]||"info",C=s=>({draft:"草稿",active:"激活",deprecated:"废弃"})[s]||s,M=s=>({functional:"功能测试",integration:"集成测试",api:"API测试",ui:"UI测试",performance:"性能测试",security:"安全测试"})[s]||"-",T=s=>z(s).format("YYYY-MM-DD HH:mm");return $(()=>{y()}),(s,l)=>{const v=d("el-button"),o=d("el-descriptions-item"),_=d("el-tag"),k=d("el-descriptions");return c(),u("div",E,[p("div",F,[l[3]||(l[3]=p("h1",{class:"page-title"},"用例详情",-1)),p("div",null,[a(v,{onClick:l[0]||(l[0]=i=>s.$router.back())},{default:t(()=>l[1]||(l[1]=[n("返回",-1)])),_:1,__:[1]}),a(v,{type:"primary",onClick:g},{default:t(()=>l[2]||(l[2]=[n("编辑",-1)])),_:1,__:[2]})])]),e.value?(c(),u("div",H,[a(k,{column:2,border:""},{default:t(()=>[a(o,{label:"用例标题",span:2},{default:t(()=>[n(r(e.value.title),1)]),_:1}),a(o,{label:"优先级"},{default:t(()=>[a(_,{class:I(`priority-tag ${e.value.priority}`)},{default:t(()=>[n(r(b(e.value.priority)),1)]),_:1},8,["class"])]),_:1}),a(o,{label:"状态"},{default:t(()=>[a(_,{type:x(e.value.status)},{default:t(()=>[n(r(C(e.value.status)),1)]),_:1},8,["type"])]),_:1}),a(o,{label:"测试类型"},{default:t(()=>[n(r(M(e.value.test_type)),1)]),_:1}),a(o,{label:"归属项目"},{default:t(()=>{var i;return[n(r(((i=e.value.project)==null?void 0:i.name)||"未关联项目"),1)]}),_:1}),a(o,{label:"关联版本",span:2},{default:t(()=>[e.value.versions&&e.value.versions.length>0?(c(),u("div",P,[(c(!0),u(R,null,S(e.value.versions,i=>(c(),j(_,{key:i.id,size:"small",type:i.is_baseline?"warning":"info",class:"version-tag"},{default:t(()=>[n(r(i.name),1)]),_:2},1032,["type"]))),128))])):(c(),u("span",q,"未关联版本"))]),_:1}),a(o,{label:"作者"},{default:t(()=>{var i;return[n(r((i=e.value.author)==null?void 0:i.username),1)]}),_:1}),a(o,{label:"创建时间",span:2},{default:t(()=>[n(r(T(e.value.created_at)),1)]),_:1}),a(o,{label:"用例描述",span:2},{default:t(()=>[n(r(e.value.description||"暂无描述"),1)]),_:1}),a(o,{label:"前置条件",span:2},{default:t(()=>[n(r(e.value.preconditions||"无"),1)]),_:1}),a(o,{label:"操作步骤",span:2},{default:t(()=>[p("div",A,r(e.value.steps||"无"),1)]),_:1}),a(o,{label:"预期结果",span:2},{default:t(()=>[n(r(e.value.expected_result),1)]),_:1})]),_:1})])):N("",!0)])}}},Q=h(G,[["__scopeId","data-v-0b53c0f8"]]);export{Q as default};
