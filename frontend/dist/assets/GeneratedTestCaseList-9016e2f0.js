import{_ as P,C as c,e as g,r as A,o as d,c as p,b as t,N as u,P as h,ab as T,t as r,B as m,f,d as D,w as j,F as b,y as _,O as v,z as V,G as k,A as w}from"./index-b9247cb2.js";const F={name:"GeneratedTestCaseList",data(){return{isLoading:!1,tasks:[],selectedStatus:"",selectedTaskDetail:null,showAdoptModal:!1,isAdopting:!1,projects:[],projectVersions:[],allVersions:[],adoptForm:{title:"",description:"",project_id:null,priority:"low",test_type:"functional",status:"draft",preconditions:"",steps:"",expected_result:"",version_id:null},currentAdoptingTask:null,selectedTasks:[],isDeleting:!1,pagination:{currentPage:1,pageSize:10,total:0,pageSizeOptions:[10,20,50]},jumpPage:"",allStats:{total:0,completed:0,running:0,failed:0}}},computed:{availableVersions(){return this.adoptForm.project_id?this.projectVersions:this.allVersions},totalPages(){return Math.ceil(this.pagination.total/this.pagination.pageSize)},paginationInfo(){const s=(this.pagination.currentPage-1)*this.pagination.pageSize+1,e=Math.min(this.pagination.currentPage*this.pagination.pageSize,this.pagination.total);return`æ˜¾ç¤º ${s}-${e} æ¡ï¼Œå…± ${this.pagination.total} æ¡`},isAllSelected(){return this.tasks.length>0&&this.selectedTasks.length===this.tasks.length}},mounted(){this.loadTasks(),this.fetchProjects(),this.fetchAllVersions()},methods:{async loadTasks(){this.isLoading=!0;try{let s="/requirement-analysis/api/testcase-generation/";const e=new URLSearchParams;e.append("page",this.pagination.currentPage),e.append("page_size",this.pagination.pageSize),this.selectedStatus&&e.append("status",this.selectedStatus),e.toString()&&(s+="?"+e.toString());const a=await c.get(s);a.data.results?(this.tasks=a.data.results,this.pagination.total=a.data.count||0):(this.tasks=a.data||[],this.pagination.total=this.tasks.length),this.updateStats()}catch(s){console.error("åŠ è½½ä»»åŠ¡åˆ—è¡¨å¤±è´¥:",s),this.tasks=[],this.pagination.total=0}finally{this.isLoading=!1,this.selectedTasks=[]}},getSerialNumber(s){return(this.pagination.currentPage-1)*this.pagination.pageSize+s+1},toggleTaskSelection(s){const e=this.selectedTasks.indexOf(s);e>-1?this.selectedTasks.splice(e,1):this.selectedTasks.push(s)},isTaskSelected(s){return this.selectedTasks.includes(s)},toggleSelectAll(){this.isAllSelected?this.selectedTasks=[]:this.selectedTasks=this.tasks.map(s=>s.task_id)},async batchDeleteTasks(){if(this.selectedTasks.length===0){g.warning("è¯·å…ˆé€‰æ‹©è¦åˆ é™¤çš„ä»»åŠ¡");return}if(!confirm(`ç¡®å®šè¦åˆ é™¤é€‰ä¸­çš„ ${this.selectedTasks.length} ä¸ªä»»åŠ¡å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`))return;this.isDeleting=!0;let s=0,e=0;try{for(const a of this.selectedTasks)try{await c.delete(`/requirement-analysis/api/testcase-generation/${a}/`),s++}catch(n){console.error(`åˆ é™¤ä»»åŠ¡ ${a} å¤±è´¥:`,n),e++}s>0?g.success(`æˆåŠŸåˆ é™¤ ${s} ä¸ªä»»åŠ¡${e>0?`ï¼Œ${e} ä¸ªå¤±è´¥`:""}`):g.error("åˆ é™¤å¤±è´¥"),this.selectedTasks=[],this.loadTasks()}catch(a){console.error("æ‰¹é‡åˆ é™¤å¤±è´¥:",a),g.error("æ‰¹é‡åˆ é™¤å¤±è´¥: "+(a.message||"æœªçŸ¥é”™è¯¯"))}finally{this.isDeleting=!1}},updateStats(){this.loadAllStats()},async loadAllStats(){try{let s="/requirement-analysis/api/testcase-generation/";const e=new URLSearchParams;e.append("page_size","10000"),e.append("page","1"),this.selectedStatus&&e.append("status",this.selectedStatus),s+="?"+e.toString();const a=await c.get(s),n=a.data.results||a.data||[];this.allStats.total=n.length,this.allStats.completed=n.filter(l=>l.status==="completed").length,this.allStats.running=n.filter(l=>["pending","generating","reviewing"].includes(l.status)).length,this.allStats.failed=n.filter(l=>l.status==="failed").length}catch(s){console.error("è·å–ç»Ÿè®¡æ•°æ®å¤±è´¥:",s),this.allStats.total=this.pagination.total||0,this.allStats.completed=0,this.allStats.running=0,this.allStats.failed=0}},getStatusText(s){return{pending:"éœ€æ±‚åˆ†æä¸­",generating:"ç”¨ä¾‹ç¼–å†™ä¸­",reviewing:"ç”¨ä¾‹è¯„å®¡ä¸­",completed:"å·²å®Œæˆ",failed:"å¤±è´¥"}[s]||s},getTestCaseCount(s){if(!s.final_test_cases)return 0;const a=s.final_test_cases.split(`
`).filter(o=>o.trim());let n=0;for(let o of a)o.includes("|")&&!o.includes("--------")&&!o.includes("æµ‹è¯•ç”¨ä¾‹ç¼–å·")&&!o.includes("ID")&&o.split("|").map(i=>i.trim()).filter(i=>i).length>1&&n++;if(n>1)return n-1;let l=0;for(const o of a)(o.includes("æµ‹è¯•ç”¨ä¾‹")||o.includes("Test Case")||o.match(/^(\d+\.|æµ‹è¯•åœºæ™¯)/))&&l++;return l||0},viewTaskDetail(s){if(["pending","generating","reviewing"].includes(s.status)){g.info("ç”¨ä¾‹æ­£åœ¨ç”Ÿæˆä¸­ï¼Œè¯·ç¨åæŸ¥çœ‹ï¼");return}if(s.status==="completed"){const e=this.$router.resolve({name:"TaskDetail",params:{taskId:s.task_id}}).href;window.open(e,"_blank")}},async batchAdoptTask(s){var e,a;if(confirm(`ç¡®å®šè¦ä¸€é”®é‡‡çº³ä»»åŠ¡"${s.title}"çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å—ï¼Ÿ`))try{await c.post(`/requirement-analysis/api/testcase-generation/${s.task_id}/batch_adopt/`),g.success("ä¸€é”®é‡‡çº³æˆåŠŸï¼æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å·²å¯¼å…¥åˆ°æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨"),this.loadTasks()}catch(n){console.error("ä¸€é”®é‡‡çº³å¤±è´¥:",n),g.error("ä¸€é”®é‡‡çº³å¤±è´¥: "+(((a=(e=n.response)==null?void 0:e.data)==null?void 0:a.message)||n.message))}},async batchDiscardTask(s){var e,a;if(confirm(`ç¡®å®šè¦ä¸€é”®å¼ƒç”¨ä»»åŠ¡"${s.title}"çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`))try{await c.post(`/requirement-analysis/api/testcase-generation/${s.task_id}/batch_discard/`),g.success("ä¸€é”®å¼ƒç”¨æˆåŠŸï¼è¯¥ä»»åŠ¡çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹å·²åˆ é™¤"),this.loadTasks()}catch(n){console.error("ä¸€é”®å¼ƒç”¨å¤±è´¥:",n),g.error("ä¸€é”®å¼ƒç”¨å¤±è´¥: "+(((a=(e=n.response)==null?void 0:e.data)==null?void 0:a.message)||n.message))}},formatDateTime(s){return s?new Date(s).toLocaleString("zh-CN",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"}):""},async fetchProjects(){try{const s=await c.get("/projects/list/");this.projects=s.data.results||[]}catch(s){console.error("è·å–é¡¹ç›®åˆ—è¡¨å¤±è´¥:",s)}},async fetchAllVersions(){try{const s=await c.get("/versions/");this.allVersions=s.data.results||s.data||[]}catch(s){console.error("è·å–æ‰€æœ‰ç‰ˆæœ¬åˆ—è¡¨å¤±è´¥:",s),this.allVersions=[]}},async fetchProjectVersions(s){if(!s){this.projectVersions=[];return}try{const e=await c.get(`/versions/projects/${s}/versions/`);this.projectVersions=e.data||[]}catch(e){console.error("è·å–é¡¹ç›®ç‰ˆæœ¬å¤±è´¥:",e),this.projectVersions=[]}},async adoptTestCase(s){this.currentAdoptingTestCase=s,this.adoptForm={title:s.title,description:s.title,project_id:null,priority:"low",test_type:"functional",status:"draft",preconditions:s.precondition||"",steps:s.test_steps||"",expected_result:s.expected_result||"",version_id:null},this.showAdoptModal=!0},async onAdoptProjectChange(){this.adoptForm.project_id?(await this.fetchProjectVersions(this.adoptForm.project_id),this.adoptForm.version_id&&(this.projectVersions.some(e=>e.id===this.adoptForm.version_id)||(this.adoptForm.version_id=null))):this.projectVersions=[]},async confirmAdopt(){if(!this.adoptForm.project_id){alert("è¯·é€‰æ‹©å½’å±é¡¹ç›®");return}if(!this.adoptForm.version_id){alert("è¯·é€‰æ‹©å…³è”ç‰ˆæœ¬");return}if(!this.adoptForm.title.trim()){alert("è¯·è¾“å…¥ç”¨ä¾‹æ ‡é¢˜");return}if(!this.adoptForm.expected_result.trim()){alert("è¯·è¾“å…¥é¢„æœŸç»“æœ");return}this.isAdopting=!0;try{const s={...this.adoptForm};s.priority||(s.priority="low"),s.version_id&&(s.version_ids=[s.version_id]),delete s.version_id,await c.post("/testcases/",s);try{await c.patch(`/requirement-analysis/api/test-cases/${this.currentAdoptingTestCase.id}/`,{status:"adopted"})}catch(e){console.warn("æ›´æ–°AIç”¨ä¾‹çŠ¶æ€å¤±è´¥:",e)}alert("ç”¨ä¾‹é‡‡çº³æˆåŠŸï¼å·²å¯¼å…¥åˆ°æµ‹è¯•ç”¨ä¾‹åˆ—è¡¨"),this.closeAdoptModal(),this.loadTestCases()}catch(s){console.error("é‡‡çº³ç”¨ä¾‹å¤±è´¥:",s),alert("é‡‡çº³ç”¨ä¾‹å¤±è´¥ï¼Œè¯·é‡è¯•")}finally{this.isAdopting=!1}},async discardTestCase(s){if(confirm(`ç¡®å®šè¦å¼ƒç”¨æµ‹è¯•ç”¨ä¾‹"${s.title}"å—ï¼Ÿæ­¤æ“ä½œä¸å¯æ¢å¤ã€‚`))try{await c.patch(`/requirement-analysis/api/test-cases/${s.id}/`,{status:"discarded"}),alert("ç”¨ä¾‹å·²å¼ƒç”¨"),this.loadTestCases()}catch(e){console.error("å¼ƒç”¨ç”¨ä¾‹å¤±è´¥:",e),alert("å¼ƒç”¨ç”¨ä¾‹å¤±è´¥ï¼Œè¯·é‡è¯•")}},closeAdoptModal(){this.showAdoptModal=!1,this.currentAdoptingTestCase=null,this.projectVersions=[]},getProjectName(s){const e=this.projects.find(a=>a.id===s);return e?e.name:""},onPageSizeChange(){this.pagination.currentPage=1,this.loadTasks()},goToPage(s){s>=1&&s<=this.totalPages&&(this.pagination.currentPage=s,this.loadTasks())},jumpToPage(){const s=parseInt(this.jumpPage);s>=1&&s<=this.totalPages?(this.pagination.currentPage=s,this.jumpPage="",this.loadTasks()):alert(`è¯·è¾“å…¥ 1-${this.totalPages} ä¹‹é—´çš„é¡µç `)},getVisiblePages(){const s=this.pagination.currentPage,e=this.totalPages,a=[];if(e<=7)for(let n=1;n<=e;n++)a.push(n);else if(s<=4){for(let n=1;n<=5;n++)a.push(n);a.push("..."),a.push(e)}else if(s>=e-3){a.push(1),a.push("...");for(let n=e-4;n<=e;n++)a.push(n)}else{a.push(1),a.push("...");for(let n=s-1;n<=s+1;n++)a.push(n);a.push("..."),a.push(e)}return a}}},M={class:"generated-testcase-list"},z={class:"filters-section"},U={class:"filter-card"},I={class:"filter-group"},L={class:"filter-actions"},q=["disabled"],x={key:0},N={key:1},E=["disabled"],B={key:0},G={key:1},O={key:0,class:"stats-section"},R={class:"stats-card"},K={class:"stat-item"},H={class:"stat-number"},J={class:"stat-item"},Q={class:"stat-number"},W={class:"stat-item"},X={class:"stat-number"},Y={class:"stat-item"},Z={class:"stat-number"},$={class:"testcases-section"},ee={key:0,class:"loading-state"},te={key:1,class:"empty-state"},se={key:2,class:"testcases-table"},ie={class:"table-header"},le={class:"header-cell checkbox-cell"},oe=["checked"],ae={class:"table-body"},ne={class:"body-cell checkbox-cell"},re=["checked","onChange"],de={class:"body-cell serial-cell"},pe={class:"body-cell"},ue={class:"body-cell"},ce={class:"requirement-name"},ge={class:"body-cell"},me={class:"body-cell count-cell"},he={class:"count-badge"},ve={class:"body-cell"},fe={class:"body-cell"},be={class:"action-buttons"},_e=["onClick"],ke=["onClick"],ye=["onClick"],Te={key:1,class:"pagination-section"},Ce={class:"pagination-info"},Se={class:"pagination-controls"},we={class:"page-size-selector"},Pe=["value"],Ae={class:"pagination-buttons"},De=["disabled"],je={class:"page-numbers"},Ve=["onClick"],Fe={key:1,class:"ellipsis"},Me=["disabled"],ze={class:"page-jumper"},Ue=["max"],Ie={class:"modal-header"},Le={class:"modal-body"},qe={class:"detail-item"},xe={class:"detail-item"},Ne={class:"detail-item"},Ee={class:"detail-item"},Be={class:"detail-item"},Ge={class:"detail-item"},Oe={class:"test-steps"},Re={class:"detail-item"},Ke={key:0,class:"detail-item"},He={class:"detail-item"},Je={key:1,class:"detail-item"},Qe={class:"detail-item"},We={class:"modal-header"},Xe={class:"modal-body"},Ye={class:"adopt-form"},Ze={class:"form-row"},$e={class:"form-group"},et={class:"form-row"},tt={class:"form-group"},st={class:"form-row"},it={class:"form-group"},lt=["value"],ot={class:"form-group"},at=["value"],nt={class:"form-hint"},rt={class:"form-row"},dt={class:"form-group"},pt={class:"form-group"},ut={class:"form-row"},ct={class:"form-group"},gt={class:"form-row"},mt={class:"form-group"},ht={class:"form-row"},vt={class:"form-group"},ft={class:"form-row"},bt={class:"form-group"},_t={class:"form-actions"},kt=["disabled"];function yt(s,e,a,n,l,o){const C=A("router-link");return d(),p("div",M,[e[73]||(e[73]=t("div",{class:"page-header"},[t("h2",null,"AIç”Ÿæˆç”¨ä¾‹è®°å½•")],-1)),t("div",z,[t("div",U,[t("div",I,[e[32]||(e[32]=t("label",null,"çŠ¶æ€ç­›é€‰:",-1)),u(t("select",{"onUpdate:modelValue":e[0]||(e[0]=i=>l.selectedStatus=i),onChange:e[1]||(e[1]=(...i)=>o.loadTasks&&o.loadTasks(...i)),class:"filter-select"},e[31]||(e[31]=[T('<option value="" data-v-5e8e853e>å…¨éƒ¨çŠ¶æ€</option><option value="pending" data-v-5e8e853e>éœ€æ±‚åˆ†æä¸­</option><option value="generating" data-v-5e8e853e>ç”¨ä¾‹ç¼–å†™ä¸­</option><option value="reviewing" data-v-5e8e853e>ç”¨ä¾‹è¯„å®¡ä¸­</option><option value="completed" data-v-5e8e853e>å·²å®Œæˆ</option><option value="failed" data-v-5e8e853e>å¤±è´¥</option>',6)]),544),[[h,l.selectedStatus]])]),t("div",L,[l.selectedTasks.length>0?(d(),p("button",{key:0,class:"batch-delete-btn",onClick:e[2]||(e[2]=(...i)=>o.batchDeleteTasks&&o.batchDeleteTasks(...i)),disabled:l.isDeleting},[l.isDeleting?(d(),p("span",x,"ğŸ—‘ï¸ åˆ é™¤ä¸­...")):(d(),p("span",N,"ğŸ—‘ï¸ æ‰¹é‡åˆ é™¤ ("+r(l.selectedTasks.length)+")",1))],8,q)):m("",!0),t("button",{class:"refresh-btn",onClick:e[3]||(e[3]=(...i)=>o.loadTasks&&o.loadTasks(...i)),disabled:l.isLoading},[l.isLoading?(d(),p("span",B,"ğŸ”„ åŠ è½½ä¸­...")):(d(),p("span",G,"ğŸ”„ åˆ·æ–°"))],8,E)])])]),l.allStats.total>0?(d(),p("div",O,[t("div",R,[t("div",K,[t("span",H,r(l.allStats.total),1),e[33]||(e[33]=t("span",{class:"stat-label"},"ä»»åŠ¡æ€»æ•°",-1))]),t("div",J,[t("span",Q,r(l.allStats.completed),1),e[34]||(e[34]=t("span",{class:"stat-label"},"å·²å®Œæˆ",-1))]),t("div",W,[t("span",X,r(l.allStats.running),1),e[35]||(e[35]=t("span",{class:"stat-label"},"è¿›è¡Œä¸­",-1))]),t("div",Y,[t("span",Z,r(l.allStats.failed),1),e[36]||(e[36]=t("span",{class:"stat-label"},"å¤±è´¥",-1))])])])):m("",!0),t("div",$,[l.isLoading?(d(),p("div",ee,e[37]||(e[37]=[t("p",null,"ğŸ”„ æ­£åœ¨åŠ è½½ä»»åŠ¡åˆ—è¡¨...",-1)]))):l.tasks.length===0?(d(),p("div",te,[e[41]||(e[41]=t("div",{class:"empty-icon"},"ğŸ“",-1)),e[42]||(e[42]=t("h3",null,"æš‚æ— ç”Ÿæˆä»»åŠ¡",-1)),t("p",null,[e[39]||(e[39]=f("è¿˜æ²¡æœ‰AIç”Ÿæˆç”¨ä¾‹ä»»åŠ¡ï¼Œå»",-1)),D(C,{to:"/requirement-analysis"},{default:j(()=>e[38]||(e[38]=[f("AIç”¨ä¾‹ç”Ÿæˆ",-1)])),_:1,__:[38]}),e[40]||(e[40]=f("é¡µé¢åˆ›å»ºä¸€ä¸ªä»»åŠ¡å§ï¼",-1))])])):(d(),p("div",se,[t("div",ie,[t("div",le,[t("input",{type:"checkbox",onChange:e[4]||(e[4]=(...i)=>o.toggleSelectAll&&o.toggleSelectAll(...i)),checked:o.isAllSelected,class:"task-checkbox"},null,40,oe)]),e[43]||(e[43]=T('<div class="header-cell serial-cell" data-v-5e8e853e>åºå·</div><div class="header-cell" data-v-5e8e853e>ä»»åŠ¡ID</div><div class="header-cell" data-v-5e8e853e>å…³è”éœ€æ±‚</div><div class="header-cell" data-v-5e8e853e>çŠ¶æ€</div><div class="header-cell count-cell" data-v-5e8e853e>ç”¨ä¾‹æ¡æ•°</div><div class="header-cell" data-v-5e8e853e>ç”Ÿæˆæ—¶é—´</div><div class="header-cell" data-v-5e8e853e>æ“ä½œ</div>',7))]),t("div",ae,[(d(!0),p(b,null,_(l.tasks,(i,S)=>(d(),p("div",{key:i.task_id,class:k(["table-row",{selected:o.isTaskSelected(i.task_id)}])},[t("div",ne,[t("input",{type:"checkbox",checked:o.isTaskSelected(i.task_id),onChange:y=>o.toggleTaskSelection(i.task_id),class:"task-checkbox"},null,40,re)]),t("div",de,r(o.getSerialNumber(S)),1),t("div",pe,r(i.task_id),1),t("div",ue,[t("span",ce,r(i.title),1)]),t("div",ge,[t("span",{class:k(["status-tag",i.status])},r(o.getStatusText(i.status)),3)]),t("div",me,[t("span",he,r(o.getTestCaseCount(i)),1)]),t("div",ve,r(o.formatDateTime(i.created_at)),1),t("div",fe,[t("div",be,[t("button",{class:"view-detail-btn",onClick:y=>o.viewTaskDetail(i)}," ğŸ“– æŸ¥çœ‹è¯¦æƒ… ",8,_e),i.status==="completed"?(d(),p("button",{key:0,class:"adopt-btn",onClick:y=>o.batchAdoptTask(i)}," âœ… ä¸€é”®é‡‡çº³ ",8,ke)):m("",!0),i.status==="completed"?(d(),p("button",{key:1,class:"discard-btn",onClick:y=>o.batchDiscardTask(i)}," âŒ ä¸€é”®å¼ƒç”¨ ",8,ye)):m("",!0)])])],2))),128))])]))]),l.tasks.length>0?(d(),p("div",Te,[t("div",Ce,r(o.paginationInfo),1),t("div",Se,[t("div",we,[e[44]||(e[44]=t("label",null,"æ¯é¡µæ˜¾ç¤ºï¼š",-1)),u(t("select",{"onUpdate:modelValue":e[5]||(e[5]=i=>l.pagination.pageSize=i),onChange:e[6]||(e[6]=(...i)=>o.onPageSizeChange&&o.onPageSizeChange(...i))},[(d(!0),p(b,null,_(l.pagination.pageSizeOptions,i=>(d(),p("option",{key:i,value:i},r(i)+" æ¡ ",9,Pe))),128))],544),[[h,l.pagination.pageSize]])]),t("div",Ae,[t("button",{class:"page-btn",disabled:l.pagination.currentPage<=1,onClick:e[7]||(e[7]=i=>o.goToPage(l.pagination.currentPage-1))}," ä¸Šä¸€é¡µ ",8,De),t("div",je,[(d(!0),p(b,null,_(o.getVisiblePages(),i=>(d(),p("span",{key:i,class:"page-number"},[i!=="..."?(d(),p("button",{key:0,class:k(["page-btn",{active:i===l.pagination.currentPage}]),onClick:S=>o.goToPage(i)},r(i),11,Ve)):(d(),p("span",Fe,"..."))]))),128))]),t("button",{class:"page-btn",disabled:l.pagination.currentPage>=o.totalPages,onClick:e[8]||(e[8]=i=>o.goToPage(l.pagination.currentPage+1))}," ä¸‹ä¸€é¡µ ",8,Me)]),t("div",ze,[e[45]||(e[45]=t("label",null,"è·³è½¬åˆ°ï¼š",-1)),u(t("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>l.jumpPage=i),type:"number",min:1,max:o.totalPages,onKeyup:e[10]||(e[10]=V((...i)=>o.jumpToPage&&o.jumpToPage(...i),["enter"])),placeholder:"é¡µç "},null,40,Ue),[[v,l.jumpPage]]),t("button",{class:"jump-btn",onClick:e[11]||(e[11]=(...i)=>o.jumpToPage&&o.jumpToPage(...i))},"è·³è½¬")])])])):m("",!0),s.selectedTestCaseDetail?(d(),p("div",{key:2,class:"testcase-detail-modal",onClick:e[14]||(e[14]=(...i)=>s.closeTestCaseDetail&&s.closeTestCaseDetail(...i))},[t("div",{class:"modal-content",onClick:e[13]||(e[13]=w(()=>{},["stop"]))},[t("div",Ie,[t("h3",null,r(s.selectedTestCaseDetail.title),1),t("button",{class:"close-btn",onClick:e[12]||(e[12]=(...i)=>s.closeTestCaseDetail&&s.closeTestCaseDetail(...i))},"Ã—")]),t("div",Le,[t("div",qe,[e[46]||(e[46]=t("label",null,"ç”¨ä¾‹ç¼–å·:",-1)),t("span",null,r(s.selectedTestCaseDetail.case_id),1)]),t("div",xe,[e[47]||(e[47]=t("label",null,"å…³è”éœ€æ±‚:",-1)),t("span",null,r(s.selectedTestCaseDetail.requirement_name)+" ("+r(s.selectedTestCaseDetail.requirement_id_display)+")",1)]),t("div",Ne,[e[48]||(e[48]=t("label",null,"ä¼˜å…ˆçº§:",-1)),t("span",{class:k(["priority-tag",s.selectedTestCaseDetail.priority.toLowerCase()])},r(s.selectedTestCaseDetail.priority_display),3)]),t("div",Ee,[e[49]||(e[49]=t("label",null,"çŠ¶æ€:",-1)),t("span",{class:k(["status-tag",s.selectedTestCaseDetail.status])},r(s.selectedTestCaseDetail.status_display),3)]),t("div",Be,[e[50]||(e[50]=t("label",null,"å‰ç½®æ¡ä»¶:",-1)),t("p",null,r(s.selectedTestCaseDetail.precondition),1)]),t("div",Ge,[e[51]||(e[51]=t("label",null,"æµ‹è¯•æ­¥éª¤:",-1)),t("p",Oe,r(s.selectedTestCaseDetail.test_steps),1)]),t("div",Re,[e[52]||(e[52]=t("label",null,"é¢„æœŸç»“æœ:",-1)),t("p",null,r(s.selectedTestCaseDetail.expected_result),1)]),s.selectedTestCaseDetail.review_comments?(d(),p("div",Ke,[e[53]||(e[53]=t("label",null,"è¯„å®¡æ„è§:",-1)),t("p",null,r(s.selectedTestCaseDetail.review_comments),1)])):m("",!0),t("div",He,[e[54]||(e[54]=t("label",null,"ç”ŸæˆAI:",-1)),t("span",null,r(s.selectedTestCaseDetail.generated_by_ai),1)]),s.selectedTestCaseDetail.reviewed_by_ai?(d(),p("div",Je,[e[55]||(e[55]=t("label",null,"è¯„å®¡AI:",-1)),t("span",null,r(s.selectedTestCaseDetail.reviewed_by_ai),1)])):m("",!0),t("div",Qe,[e[56]||(e[56]=t("label",null,"ç”Ÿæˆæ—¶é—´:",-1)),t("span",null,r(o.formatDateTime(s.selectedTestCaseDetail.created_at)),1)])])])])):m("",!0),l.showAdoptModal?(d(),p("div",{key:3,class:"testcase-detail-modal",onClick:e[30]||(e[30]=(...i)=>o.closeAdoptModal&&o.closeAdoptModal(...i))},[t("div",{class:"modal-content large-modal",onClick:e[29]||(e[29]=w(()=>{},["stop"]))},[t("div",We,[e[57]||(e[57]=t("h3",null,"é‡‡çº³æµ‹è¯•ç”¨ä¾‹",-1)),t("button",{class:"close-btn",onClick:e[15]||(e[15]=(...i)=>o.closeAdoptModal&&o.closeAdoptModal(...i))},"Ã—")]),t("div",Xe,[t("form",Ye,[t("div",Ze,[t("div",$e,[e[58]||(e[58]=t("label",null,"ç”¨ä¾‹æ ‡é¢˜:",-1)),u(t("input",{"onUpdate:modelValue":e[16]||(e[16]=i=>l.adoptForm.title=i),type:"text",placeholder:"è¯·è¾“å…¥ç”¨ä¾‹æ ‡é¢˜"},null,512),[[v,l.adoptForm.title]])])]),t("div",et,[t("div",tt,[e[59]||(e[59]=t("label",null,"ç”¨ä¾‹æè¿°:",-1)),u(t("textarea",{"onUpdate:modelValue":e[17]||(e[17]=i=>l.adoptForm.description=i),rows:"3",placeholder:"è¯·è¾“å…¥ç”¨ä¾‹æè¿°"},null,512),[[v,l.adoptForm.description]])])]),t("div",st,[t("div",it,[e[61]||(e[61]=t("label",null,[f("å½’å±é¡¹ç›®: "),t("span",{class:"required"},"*")],-1)),u(t("select",{"onUpdate:modelValue":e[18]||(e[18]=i=>l.adoptForm.project_id=i),onChange:e[19]||(e[19]=(...i)=>o.onAdoptProjectChange&&o.onAdoptProjectChange(...i))},[e[60]||(e[60]=t("option",{value:""},"è¯·é€‰æ‹©é¡¹ç›®",-1)),(d(!0),p(b,null,_(l.projects,i=>(d(),p("option",{key:i.id,value:i.id},r(i.name),9,lt))),128))],544),[[h,l.adoptForm.project_id]])]),t("div",ot,[e[63]||(e[63]=t("label",null,[f("å…³è”ç‰ˆæœ¬: "),t("span",{class:"required"},"*")],-1)),u(t("select",{"onUpdate:modelValue":e[20]||(e[20]=i=>l.adoptForm.version_id=i)},[e[62]||(e[62]=t("option",{value:""},"è¯·é€‰æ‹©ç‰ˆæœ¬",-1)),(d(!0),p(b,null,_(o.availableVersions,i=>(d(),p("option",{key:i.id,value:i.id},r(i.name)+r(i.is_baseline?" (åŸºçº¿)":""),9,at))),128))],512),[[h,l.adoptForm.version_id]]),t("small",nt,r(l.adoptForm.project_id?`æ˜¾ç¤ºé¡¹ç›®"${o.getProjectName(l.adoptForm.project_id)}"çš„ç‰ˆæœ¬`:"æ˜¾ç¤ºæ‰€æœ‰ç‰ˆæœ¬ï¼Œé€‰æ‹©é¡¹ç›®åå°†è¿‡æ»¤ä¸ºé¡¹ç›®ç‰ˆæœ¬"),1)])]),t("div",rt,[t("div",dt,[e[65]||(e[65]=t("label",null,"ä¼˜å…ˆçº§:",-1)),u(t("select",{"onUpdate:modelValue":e[21]||(e[21]=i=>l.adoptForm.priority=i)},e[64]||(e[64]=[t("option",{value:"low"},"ä½",-1),t("option",{value:"medium"},"ä¸­",-1),t("option",{value:"high"},"é«˜",-1),t("option",{value:"critical"},"ç´§æ€¥",-1)]),512),[[h,l.adoptForm.priority]])]),t("div",pt,[e[67]||(e[67]=t("label",null,"æµ‹è¯•ç±»å‹:",-1)),u(t("select",{"onUpdate:modelValue":e[22]||(e[22]=i=>l.adoptForm.test_type=i)},e[66]||(e[66]=[T('<option value="functional" data-v-5e8e853e>åŠŸèƒ½æµ‹è¯•</option><option value="integration" data-v-5e8e853e>é›†æˆæµ‹è¯•</option><option value="api" data-v-5e8e853e>APIæµ‹è¯•</option><option value="ui" data-v-5e8e853e>UIæµ‹è¯•</option><option value="performance" data-v-5e8e853e>æ€§èƒ½æµ‹è¯•</option><option value="security" data-v-5e8e853e>å®‰å…¨æµ‹è¯•</option>',6)]),512),[[h,l.adoptForm.test_type]])])]),t("div",ut,[t("div",ct,[e[69]||(e[69]=t("label",null,"çŠ¶æ€:",-1)),u(t("select",{"onUpdate:modelValue":e[23]||(e[23]=i=>l.adoptForm.status=i)},e[68]||(e[68]=[t("option",{value:"draft"},"è‰ç¨¿",-1),t("option",{value:"active"},"æ¿€æ´»",-1)]),512),[[h,l.adoptForm.status]])])]),t("div",gt,[t("div",mt,[e[70]||(e[70]=t("label",null,"å‰ç½®æ¡ä»¶:",-1)),u(t("textarea",{"onUpdate:modelValue":e[24]||(e[24]=i=>l.adoptForm.preconditions=i),rows:"3",placeholder:"è¯·è¾“å…¥å‰ç½®æ¡ä»¶"},null,512),[[v,l.adoptForm.preconditions]])])]),t("div",ht,[t("div",vt,[e[71]||(e[71]=t("label",null,"æ“ä½œæ­¥éª¤:",-1)),u(t("textarea",{"onUpdate:modelValue":e[25]||(e[25]=i=>l.adoptForm.steps=i),rows:"6",placeholder:"è¯·è¾“å…¥è¯¦ç»†çš„æ“ä½œæ­¥éª¤"},null,512),[[v,l.adoptForm.steps]])])]),t("div",ft,[t("div",bt,[e[72]||(e[72]=t("label",null,"é¢„æœŸç»“æœ:",-1)),u(t("textarea",{"onUpdate:modelValue":e[26]||(e[26]=i=>l.adoptForm.expected_result=i),rows:"3",placeholder:"è¯·è¾“å…¥é¢„æœŸç»“æœ"},null,512),[[v,l.adoptForm.expected_result]])])]),t("div",_t,[t("button",{type:"button",class:"confirm-btn",onClick:e[27]||(e[27]=(...i)=>o.confirmAdopt&&o.confirmAdopt(...i)),disabled:l.isAdopting},r(l.isAdopting?"æ­£åœ¨é‡‡çº³...":"ç¡®è®¤é‡‡çº³"),9,kt),t("button",{type:"button",class:"cancel-btn",onClick:e[28]||(e[28]=(...i)=>o.closeAdoptModal&&o.closeAdoptModal(...i))},"å–æ¶ˆ")])])])])])):m("",!0)])}const Ct=P(F,[["render",yt],["__scopeId","data-v-5e8e853e"]]);export{Ct as default};
